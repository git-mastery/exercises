initialization:
  steps:
    - type: new-file
      filename: story.txt
      contents: "It was a dark and stormy night.\n"
    - type: add
      files:
        - story.txt
    - type: commit
      message: Describe night
      empty: false
      id: start
    - type: append-file
      filename: story.txt
      contents: "I was alone in my room.\n"
    - type: add
      files:
        - story.txt
    - type: commit
      message: Describe location
      empty: false
    - type: append-file
      filename: story.txt
      contents: "I heard a strange noise.\n"
    - type: add
      files:
        - story.txt
    - type: commit
      message: Mention noise
      empty: false
    # visitor-line starts from wrong commit (third instead of second)
    - type: checkout
      branch-name: visitor-line
      start-point: HEAD
    - type: append-file
      filename: story.txt
      contents: "I heard someone knocking at the door.\n"
    - type: add
      files:
        - story.txt
    - type: commit
      message: Mention knocking
      empty: false
    - type: checkout
      branch-name: sleep-line
      start-point: HEAD~2
    - type: append-file
      filename: story.txt
      contents: "I fell asleep on the couch.\n"
    - type: add
      files:
        - story.txt
    - type: commit
      message: Mention sleeping
      empty: false
